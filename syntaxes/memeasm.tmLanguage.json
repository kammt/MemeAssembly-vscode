{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "MemeAssembly",
	"patterns": [
		{
			"include": "#commands"
		},
		{
			"include": "#comments"
		},
		{
			"include": "#additions"
		}
	],
	"repository": {
		"commands": {
			"patterns": [
				{
					"include": "#stack-operations"
				},
				{
					"include": "#register-manipulation"
				},
				{
					"include": "#functions"
				},
				{
					"include": "#logical-operations"
				}
			]
		},
		"64bit-registers": {
			"patterns": [
				{
					"comment": "64 bit registers",
					"name": "constant.language",
					"match": "(?i)\\b(RAX|RBX|RCX|RDX|RSI|RDI|RSP|RBP|R8|R9|R10|R11|R12|R13|R14|R15)\\b"
				}
			]
		},
		"32bit-registers": {
			"patterns": [
				{
					"comment": "32 bit registers",
					"name": "constant.language",
					"match": "(?i)\\b(EAX|EBX|ECX|EDX|ESI|EDI|ESP|EBP|R8D|R9D|R10D|R11D|R12D|R13D|R14D|R15D)\\b"
				}
			]
		},
		"16bit-registers": {
			"patterns": [
				{
					"comment": "16 bit registers",
					"name": "constant.language",
					"match": "(?i)\\b(AX|BX|CX|DX|SI|DI|SP|BP|R8W|R9W|R10W|R11W|R12W|R13W|R14W|R15W)\\b"
				}
			]
		},
		"8bit-registers": {
			"patterns": [
				{
					"comment": "8 bit registers",
					"name": "constant.language",
					"match": "(?i)\\b(AH|AL|BH|BL|CH|CL|DH|DL|SIL|DIL|SPL|BPL|R8B|R9B|R10B|R11B|R12B|R13B|R14B|R15B)\\b"
				}
			]
		},
		"decimal-number": {
			"patterns": [
				{
					"comment": "Decimal number constants",
					"name": "constant.numeric.decimal",
					"match": "\\d+"
				}
			]
		},
		"ascii-character": {
			"patterns": [
				{
					"comment": "Space",
					"name": "constant.character.escape",
					"match": "space"
				},
				{
					"comment": "Escape sequences",
					"name": "constant.character.escape",
					"match": "\\\\[nstfbv\\\"\\?\\\\]"
				},
				{
					"comment": "Code points",
					"name": "string.quoted.single",
					"match": "\\d{1,3}"
				},
				{
					"comment": "Single characters, 0 to 255",
					"name": "string.quoted.single",
					"match": "[\\x00-\\xFF]"
				}
			]
		},
		"comments": {
			"patterns": [
				{
					"name": "comment.line",
					"match": "(What the hell happened here\\?.*?\\n)"
				}
			]
		},
		"functions": {
			"patterns": [
				{
					"name": "storage.type",
					"match": "(I like to have fun, fun, fun, fun, fun, fun, fun, fun, fun, fun )\\S*",
					"captures": {
						"1": {
							"patterns": [
								{
									"name": "entity.name.function",
									"match": "I like to have fun, fun, fun, fun, fun, fun, fun, fun, fun, fun (\\S*)"
								}
							]
						}
					}
				},
				{
					"name": "keyword.control",
					"match": "(right back at ya, buckaroo)"
				},
				{
					"name": "keyword.control",
					"match": "(no, I don't think I will)"
				},
				{
					"name": "keyword.control",
					"match": "(I see this as an absolute win)"
				}
			]
		},
		"stack-operations": {
			"patterns": [
				{
					"name": "entity.name.function",
					"match": "(stonks \\w+)",
					"captures": {
						"1": {
							"patterns": [
								{
									"include": "#64bit-registers"
								},
								{
									"include": "#decimal-number"
								}
							]
						}
					}
				},
				{
					"name": "entity.name.function",
					"match": "(not stonks \\w+)",
					"captures": {
						"1": {
							"patterns": [
								{
									"include": "#64bit-registers"
								}
							]
						}
					}
				}
			]
		},
		"logical-operations": {
			"patterns": [
				{
					"name": "entity.name.function",
					"match": "bitconneeeeeeect (\\w+) (.+)",
					"captures": {
						"1": {
							"patterns": [
								{
									"include": "#64bit-registers"
								},
								{
									"include": "#32bit-registers"
								},
								{
									"include": "#16bit-registers"
								},
								{
									"include": "#8bit-registers"
								}
							]
						},
						"2": {
							"patterns": [
								{
									"include": "#64bit-registers"
								},
								{
									"include": "#32bit-registers"
								},
								{
									"include": "#16bit-registers"
								},
								{
									"include": "#8bit-registers"
								},
								{
									"include": "#decimal-number"
								},
								{
									"include": "#ascii-character"
								}
							]
						}
					}
				}
			]
		},
		"register-manipulation": {
			"patterns": [
				{
					"name": "entity.name.function",
					"match": "(sneak 100 \\w+)",
					"captures": {
						"1": {
							"patterns": [
								{
									"include": "#64bit-registers"
								},
								{
									"include": "#32bit-registers"
								},
								{
									"include": "#16bit-registers"
								},
								{
									"include": "#8bit-registers"
								}
							]
						}
					}
				}
			]
		},
		"additions": {
			"patterns": [
				{
					"comment": "Make sure the beginning is a valid command that we know",
					"match": "(.+) (or draw 25)",
					"captures": {
						"1": {
							"patterns": [
								{
									"include": "#commands"
								}
							]
						},
						"2": {
							"name": "keyword.control"
						}
					}
				}
			]
		}
	},
	"scopeName": "source.memeasm"
}
